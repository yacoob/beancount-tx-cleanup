[project]
name = "beancount-tx-cleanup"
version = "0.1.0"
description = "Beancount transaction cleaner"
authors = [{ name = "Jakub Turski", email = "yacoob@ftml.net" }]
dependencies = ["beancount <3, >=2", "pydantic>=2.8.2"]
readme = "README.md"
requires-python = ">= 3.11"
classifiers = ["Private :: Do Not Upload"]

[build-system]
requires = ["hatchling"]
build-backend = "hatchling.build"

[tool.hatch.metadata]
allow-direct-references = true

[tool.hatch.build.targets.wheel]
packages = ["beancount_tx_cleanup"]

[tool.rye]
managed = true
dev-dependencies = []

## extra tooling
#

[tool.coverage.report]
show_missing = true

[tool.coverage.run]
branch = true
source = ['beancount_tx_cleanup']
omit = ['**/*_test.py']
[tool.pytest.ini_options]
console_output_style = 'classic'
addopts = '--cov --no-cov-on-fail'

[tool.ruff]
fix = true

[tool.ruff.format]
quote-style = 'single'
docstring-code-format = true
docstring-code-line-length = 60

[tool.ruff.lint]
extend-select = [
  "A",
  "ARG",
  "B",
  "C",
  "C4",
  "COM",
  "D",
  "ERA",
  "EXE",
  "FBT",
  "FURB",
  "I",
  "ICN",
  "ISC",
  "PERF",
  "PLC",
  "PLE",
  "PLR",
  "PLW",
  "PT",
  "RET",
  "RUF",
  "SIM",
  "SLF",
  "UP",
  "W",
]
